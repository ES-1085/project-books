---
title: "Project proposal"
author: "Queer Lit"
output: github_document
---

```{r load-packages, message = FALSE}
library(tidyverse)
library(broom)
library(readr)
library(stringr)
library(readxl)
library(dplyr)
library(hexbin)
```

## 1. Introduction

General Research Question: Examining the correlation between the number of Reviews a book receives and the Rating. Understanding a possible evolution of queer literature from the 1970s - 2024.

Examining the general relation between reviews and rating from the Goodreads rating system. The data has been formulated from Goodreads lists and can be found here:

Queer_books-data - https://docs.google.com/spreadsheets/d/11cubO21f_MJb85e4IrpsaNH9Sm4-6B8-kL2CnUNGGdE/edit  
Kandi Grey Queer Lit Shelf - https://www.goodreads.com/review/list/59261401-kandi-grey?shelf=queer-books_all 

The variables include id (Id number of book from), Title, Author (Last name, First name), Additional Authors, ISBN, ISBN13, Average Rating ( 1- 5), Num Rating (Number of Ratings), Publisher, Binding (Paperback, Hardcover, eBook, ect), Number of Pages, Year Published, Original Publication Year, Exclusive Shelf (File name). 
500 observations have been recorded. 
Goodreads is a site and a tool used by people to categorise books they have written and read. Goodreads has different ways to help users categorise books; I created a ‘bookshelf’ to collect books from Lists that other Goodreads users supplied. I collected the top 500 from several Queer Literature lists to create the dataset we are using. Using this data, we can examine the correlation between the Average Rating and the Number of Reviews received, if the Binding method is related to the year published, if there is a common publisher for Queer literature. 
Possible Further Study: Examining the relation to genre within Queer Literature. The differences across the queer spectrum.

Vocab Definitions: 
Queer: does not fall under the heterosexual/romantic spectrum, i.e. falls under the LGBTQIA+ spectrum
Queer Literature Definition: literature either written by an author that identifies as queer, the themes of the book itself are queer related, either through character, theme, topic ect. 


## 2. Data

```{r load-data}

queer_books_data <- read_excel("../data/queer-books_data.xlsx")

```

Codebook

id: Book number

Title: Book title

Author: Book author

Author l-f: Book author last name and then first name

Additional authors: Additional author beside the first author

ISBN: Book identifier number

ISBN 13: Book identifier number with 13-digits long

Average Rating: Book average rating 

Num Rating: Total number of rating 

Publisher: Book publisher

Binding: Book binding type

Number of Pages: Number of pages of the book

Year Published: Book’s year published (first and/or latest publication)

Original Publication Year: First publication year

Exclusive sheft: 

```{r glimpse-data-frame}
glimpse(queer_books_data)
```


## 3. Ethics review

## 4. Data analysis plan

```{r corelation-rating-numrating}
queer_books_data %>% 
  ggplot(aes( x = num_ratings, y = average_rating)) +
  geom_hex() +
  scale_fill_viridis_b() +
  labs( title = "Correlation of average rating and number of rating",
        subtitle = "Goodread data from 1974 - 2024",
        x = "Number of rating",
        y = "Average rating")
```

```{r published-dacade}
queer_books_data <- queer_books_data %>% 
  mutate(year_by_decade = case_when(year_published %in% c("1970","1971", "1972", "1973", "1974","1975", "1976", "1977", "1978", "1979") ~ "70s",
                                    year_published %in% c("1980","1981", "1982","1983","1984","1985","1986","1987","1988","1989") ~ "80s",
                                    year_published %in% c("1990","1991","1992","1993","1994","1995","1996","1997","1998","1999") ~ "90s",
                                    year_published %in% c("2000","2001","2002","2003","2004","2005","2006","2007","2008","2009") ~ "2000s",
                                    year_published %in% c("2010","2011","2012","2013","2014","2015","2016","2017","2018","2019") ~ "2010s",
                                    year_published %in% c("2020","2021","2022","2023","2024") ~ "2020s"))
```

```{r original-publishing-dacade}
queer_books_data <- queer_books_data %>% 
  mutate(originalyear_by_decade = case_when(original_publication_year %in% c("1897","1890", "1872","-380","-1200") ~ "<1900s",
                                            original_publication_year %in% c("1910","1911", "1912","1913","1914","1915","1916","1917","1918","1919") ~ "10s",
                                            original_publication_year %in% c("1920","1921", "1922","1923","1924","1925","1926","1927","1928","1929") ~ "20s",
                                            original_publication_year %in% c("1930","1931", "1932","1933","1934","1935","1936","1937","1938","1939") ~ "30s",
                                            original_publication_year %in% c("1940","1941", "1942","1943","1944","1945","1946","1947","1948","1949") ~ "40s",
                                            original_publication_year %in% c("1950","1951", "1952","1953","1954","1955","1956","1957","1958","1959") ~ "50s",
                                            original_publication_year %in% c("1960","1961", "1962","1963","1964","1965","1966","1967","1968","1969") ~ "60s",
                                            original_publication_year %in% c("1970","1971", "1972", "1973", "1974","1975", "1976", "1977", "1978", "1979") ~ "70s",
                                    original_publication_year %in% c("1980","1981", "1982","1983","1984","1985","1986","1987","1988","1989") ~ "80s",
                                    original_publication_year %in% c("1990","1991","1992","1993","1994","1995","1996","1997","1998","1999") ~ "90s",
                                    original_publication_year %in% c("2000","2001","2002","2003","2004","2005","2006","2007","2008","2009") ~ "2000s",
                                    original_publication_year %in% c("2010","2011","2012","2013","2014","2015","2016","2017","2018","2019") ~ "2010s",
                                    original_publication_year %in% c("2020","2021","2022","2023","2024") ~ "2020s"))
```


```{r}
queer_books_data %>% 
  ggplot(aes( x = year_by_decade)) +
  geom_bar()
```

```{r}
queer_books_data %>% 
  ggplot(aes( x = originalyear_by_decade)) +
  geom_bar()
```


```{r}
queer_books_data %>%
  ggplot(aes( x = year_published)) +
  geom_bar()
  
```

```{r}
year_published <- queer_books_data %>% 
  select(title, year_published)

original_published <- queer_books_data %>% 
  select(title, original_publication_year)

#republished_books <- year_published %>% 
  #inner_join(original_published, by = "title", !)
```


